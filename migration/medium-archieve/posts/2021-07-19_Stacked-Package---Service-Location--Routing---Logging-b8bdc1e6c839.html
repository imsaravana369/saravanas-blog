<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Stacked Package‚Ää‚Äî‚ÄäService Location, Routing &amp; Logging</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Stacked Package‚Ää‚Äî‚ÄäService Location, Routing &amp; Logging</h1>
</header>
<section data-field="subtitle" class="p-summary">
Hello everyone, I‚Äôve already written an article about how we can handle loading states and errors easily with the stacked package.
</section>
<section data-field="body" class="e-content">
<section name="a2f6" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="99d4" id="99d4" class="graf graf--h3 graf--leading graf--title">Stacked Package‚Ää‚Äî‚ÄäService Location, Routing &amp;¬†Logging</h3><p name="c4c7" id="c4c7" class="graf graf--p graf-after--h3">Hello everyone, I‚Äôve already written an article about how we can handle loading states and errors easily with the stacked package.</p><p name="a567" id="a567" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">In this article, we will see about various services provided by the stacked package.</em></p><p name="2283" id="2283" class="graf graf--p graf-after--p">The stacked package provides various functionalities like <strong class="markup--strong markup--p-strong">service location, routing, logging</strong>, etc. It makes them really easy by code generation, all you need to do is just annotate a class with <code class="markup--code markup--p-code">@StackedApp </code>and specify the services you want.</p><p name="ced7" id="ced7" class="graf graf--p graf-after--p">First, declare the dependencies in your <code class="markup--code markup--p-code">pubspec.yaml</code>,</p><pre name="1d84" id="1d84" class="graf graf--pre graf-after--p">dependencies:<br>  <strong class="markup--strong markup--pre-strong">stacked: ^2.2.2</strong><br>  <strong class="markup--strong markup--pre-strong">stacked_services: ^0.8.10</strong></pre><pre name="1322" id="1322" class="graf graf--pre graf-after--pre">dev_dependencies:<br>  <strong class="markup--strong markup--pre-strong">build_runner: <br>  stacked_generator:</strong></pre><h3 name="dc3a" id="dc3a" class="graf graf--h3 graf-after--pre">Routing</h3><figure name="87ff" id="87ff" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*kO4V3dXa78gTPsqe6w_FYQ.jpeg" data-width="3498" data-height="2332" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*kO4V3dXa78gTPsqe6w_FYQ.jpeg"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@martinirc?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/@martinirc?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Jos√© Mart√≠n Ram√≠rez Carrasco</a> on¬†<a href="https://unsplash.com/s/photos/route?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/s/photos/route?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Unsplash</a></figcaption></figure><h4 name="b046" id="b046" class="graf graf--h4 graf-after--figure"><strong class="markup--strong markup--h4-strong">Setting up</strong></h4><ol class="postList"><li name="0261" id="0261" class="graf graf--li graf-after--h4"><strong class="markup--strong markup--li-strong">Annotate a class with @StackedApp</strong></li></ol><p name="c01c" id="c01c" class="graf graf--p graf-after--li">Create a file, the name is of your choiceüôÉ, I name it <code class="markup--code markup--p-code">app.dart</code></p><p name="4354" id="4354" class="graf graf--p graf-after--p">Then, let‚Äôs specify some <strong class="markup--strong markup--p-strong">routes </strong>for our app,</p><pre name="5c64" id="5c64" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">@StackedApp(<br>  routes:[<br>    </strong>MaterialRoute(page: HomePage,initial: true),<br>    MaterialRoute(page: LoginPage),<strong class="markup--strong markup--pre-strong"><br>  ]<br>)</strong><br>class <strong class="markup--strong markup--pre-strong">App</strong>{<br>   //empty class, will be filled after code generation<br>}</pre><ul class="postList"><li name="e687" id="e687" class="graf graf--li graf-after--pre">We just declared two routes and set our HomePage as our initial route.</li><li name="17a5" id="17a5" class="graf graf--li graf-after--li">This also supports, nested routes(<a href="https://pub.dev/packages/stacked" data-href="https://pub.dev/packages/stacked" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">docs</a>)</li></ul><p name="9f3a" id="9f3a" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">2.Run the code generator command</strong></p><pre name="498f" id="498f" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">flutter pub<em class="markup--em markup--pre-em"> </em>run<em class="markup--em markup--pre-em"> build_runner build --delete-conflicting-outputs</em></code></pre><p name="2e51" id="2e51" class="graf graf--p graf-after--pre">This will generate</p><blockquote name="d29f" id="d29f" class="graf graf--blockquote graf-after--p"><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">app.router.dart</em></code>¬†: Auto-generated from the <strong class="markup--strong markup--blockquote-strong">routes </strong>parameter.</blockquote><blockquote name="fc0d" id="fc0d" class="graf graf--blockquote graf-after--blockquote"><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">app.locator.dart</em></code>¬†: Auto-generated from the <strong class="markup--strong markup--blockquote-strong">dependencies </strong>parameter.</blockquote><blockquote name="23f2" id="23f2" class="graf graf--blockquote graf-after--blockquote"><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">app.logger.dart</em></code>: Auto-generated from <strong class="markup--strong markup--blockquote-strong">logger </strong>parameter.</blockquote><blockquote name="b188" id="b188" class="graf graf--pullquote graf-after--blockquote">You have to run the command each and every time, you make some changes to the @StackedApp</blockquote><p name="37d5" id="37d5" class="graf graf--p graf-after--pullquote"><strong class="markup--strong markup--p-strong">3. Specify onGenerateRoute,navigatorKey in your MaterialApp</strong></p><pre name="0086" id="0086" class="graf graf--pre graf-after--p">class MyApp extends StatelessWidget {<br>  @override<br>  Widget build(BuildContext context) {<br>    return MaterialApp(<br>        title: &#39;My APP&#39;,<br>        <strong class="markup--strong markup--pre-strong">navigatorKey: StackedService.<em class="markup--em markup--pre-em">navigatorKey</em>,<br>        onGenerateRoute: StackedRouter().onGenerateRoute</strong>,<br>    );<br>  }<br>}</pre><ul class="postList"><li name="5b2c" id="5b2c" class="graf graf--li graf-after--pre">The Navigator key is very important, it is the one that enables us to navigate through pages without explicitly using context.</li><li name="6ddb" id="6ddb" class="graf graf--li graf-after--li">StackedApp uses auto_route to generate <code class="markup--code markup--li-code">app.router.dart </code>file. The great thing about that is, it creates a Router argument class for each Route(with the same arguments in the constructor), which you can use while navigating to the target class.</li></ul><p name="d9eb" id="d9eb" class="graf graf--p graf-after--li">Let‚Äôs say our LoginPage looks like this,</p><pre name="dd6b" id="dd6b" class="graf graf--pre graf-after--p">class LoginPage extends StatelessWidget {<br>  <strong class="markup--strong markup--pre-strong">String id;<br>  LoginPage(this.id);</strong><br>  //...<br>}</pre><p name="9487" id="9487" class="graf graf--p graf-after--pre">The <code class="markup--code markup--p-code">app.router.dart</code> has a <code class="markup--code markup--p-code"><strong class="markup--strong markup--p-strong">LoginArguments </strong></code>class that acts as a holder for the constructor arguments,</p><pre name="e3a0" id="e3a0" class="graf graf--pre graf-after--p">class LoginPageArguments {<br>  final String id;<br>  LoginPageArguments({required this.id});<br>}</pre><p name="65c4" id="65c4" class="graf graf--p graf-after--pre">How we can use it? Suppose let‚Äôs say we are inside a ViewModel</p><pre name="adbb" id="adbb" class="graf graf--pre graf-after--p"><em class="markup--em markup--pre-em">//within a viewModel<br></em>void move(){<br>     //after registering navigationService as dependency(more on this later)<br>     <strong class="markup--strong markup--pre-strong">locator.get&lt;NavigationService()</strong><br>            .navigateTo(<br>                Routes.<em class="markup--em markup--pre-em">loginPage</em>,<br>                 <strong class="markup--strong markup--pre-strong">arguments:</strong> <strong class="markup--strong markup--pre-strong">LoginPageArguments(id: &#39;1&#39;)</strong>);<br>    <br>    /* #### Equivalent to #####<br>     <em class="markup--em markup--pre-em">Navigator.of(context)<br>              .pushNamed(Routes.loginPage,<br>                  arguments:{id:1});<br></em>    */ <br>}</pre><p name="925d" id="925d" class="graf graf--p graf-after--pre">This will navigate us to the Loginpage with the passed argument. The argument unmarshalling will be done by the stacked package.</p><ul class="postList"><li name="6a23" id="6a23" class="graf graf--li graf-after--p">We can‚Äôt skip any <code class="markup--code markup--li-code">required</code> arguments when using the LoginPageArguments, this gives <strong class="markup--strong markup--li-strong">compile-time safety </strong>for passing arguments.</li></ul><pre name="b623" id="b623" class="graf graf--pre graf-after--li"><strong class="markup--strong markup--pre-strong">arguments:</strong> <strong class="markup--strong markup--pre-strong">LoginPageArguments() //error, must pass &#39;id&#39;</strong></pre><ul class="postList"><li name="7ea7" id="7ea7" class="graf graf--li graf-after--pre graf--trailing">As you can see, we are navigating without using any context in our business logic layer. This is one of the key benefits of using Stacked Service.</li></ul></div></div></section><section name="9b7c" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="ef8d" id="ef8d" class="graf graf--figure graf--leading"><img class="graf-image" data-image-id="1*y7v50z18isGx7adfhWVKWQ.jpeg" data-width="5868" data-height="3648" src="https://cdn-images-1.medium.com/max/800/1*y7v50z18isGx7adfhWVKWQ.jpeg"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@diana_pole?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/@diana_pole?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Diana Polekhina</a> on¬†<a href="https://unsplash.com/s/photos/injection?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/s/photos/injection?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Unsplash</a></figcaption></figure><h4 name="087a" id="087a" class="graf graf--h4 graf-after--figure">2. Dependency Registration</h4><p name="03db" id="03db" class="graf graf--p graf-after--h4">You can register your dependencies inside the stackedApp annotation, it reduces much of the registration boilerplate code of the <code class="markup--code markup--p-code">get_it</code> package. I have written an article on get_it, if you are interested you can read it <a href="https://medium.com/nerd-for-tech/implement-service-locator-design-pattern-with-get-it-flutter-5e50671bbbcb" data-href="https://medium.com/nerd-for-tech/implement-service-locator-design-pattern-with-get-it-flutter-5e50671bbbcb" class="markup--anchor markup--p-anchor" target="_blank">here</a>.</p><h4 name="c951" id="c951" class="graf graf--h4 graf-after--p">1.Specify the dependencies inside @StackedApp</h4><pre name="beb3" id="beb3" class="graf graf--pre graf-after--h4"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">//code snippet from the official docs<br><strong class="markup--strong markup--pre-strong">@StackedApp</strong>(<br>routes : [ ... ],<br><strong class="markup--strong markup--pre-strong">dependencies</strong>: [<br>    <strong class="markup--strong markup--pre-strong">LazySingleton</strong>(classType: ThemeService, resolveUsing: ThemeService.getInstance),</code></pre><pre name="2e2e" id="2e2e" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><em class="markup--em markup--pre-em">// abstracted class type support</em><br>    <strong class="markup--strong markup--pre-strong">LazySingleton</strong>(classType: FirebaseAuthService, asType: AuthService),</code></pre><pre name="d651" id="d651" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">    <strong class="markup--strong markup--pre-strong">Singleton</strong>(classType: NavigationService),</code></pre><pre name="6d79" id="6d79" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">Factory</strong>( classType: Counter)<strong class="markup--strong markup--pre-strong">,</strong></code></pre><pre name="02d4" id="02d4" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">Presolve</strong>(<br>      classType: SharedPreferencesService,<br>      presolveUsing: SharedPreferencesService.getInstance,<br>    ),<br>  ],<br>)</code></pre><h4 name="0269" id="0269" class="graf graf--h4 graf-after--pre">2. Run the¬†Command</h4><p name="00a8" id="00a8" class="graf graf--p graf-after--h4">Don‚Äôt forget to run the command,</p><pre name="9635" id="9635" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">flutter pub<em class="markup--em markup--pre-em"> </em>run<em class="markup--em markup--pre-em"> build_runner build --delete-conflicting-outputs</em></strong></code></pre><blockquote name="8e1c" id="8e1c" class="graf graf--blockquote graf-after--pre">This will generate <strong class="markup--strong markup--blockquote-strong">app.locator.dart</strong>, which holds all the dependencies you‚Äôve specified.</blockquote><h4 name="6d4b" id="6d4b" class="graf graf--h4 graf-after--blockquote">3. Call setupLocator() from¬†runApp()</h4><p name="bbd5" id="bbd5" class="graf graf--p graf-after--h4">Also, don‚Äôt forget to call the setupLocator() from the runApp(),</p><pre name="aadc" id="aadc" class="graf graf--pre graf-after--p">import &#39;./<strong class="markup--strong markup--pre-strong">app.locator.dart</strong>&#39;;<br>void main() {<br>  <strong class="markup--strong markup--pre-strong">setupLocator()</strong>; //this function is inside the <strong class="markup--strong markup--pre-strong"><em class="markup--em markup--pre-em">app.router.dart</em></strong> file<br>  runApp(MyApp());<br>}</pre><p name="0166" id="0166" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">The 4 Registration types</strong></p><h4 name="6cb9" id="6cb9" class="graf graf--h4 graf-after--p">1.Singleton &amp; LazySingleton</h4><ul class="postList"><li name="d0aa" id="d0aa" class="graf graf--li graf-after--h4">Singleton‚Ää‚Äî‚Ääonly one instance is created and reused all the time.</li><li name="50c5" id="50c5" class="graf graf--li graf-after--li">LazySingleton‚Ää‚Äî‚ÄäSimilar to Singleton but the instance is created only when the user requests it the first time, not while during the app startup, which may save some start-up time.</li></ul><p name="237d" id="237d" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Parameters:</strong></p><ul class="postList"><li name="617c" id="617c" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">classType</strong>: The type of the class to be initiated.</li><li name="9fb7" id="9fb7" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">asType</strong>: The type of the class to be exposed.</li><li name="da90" id="da90" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">resolveUsing</strong>: We need to pass a static function here, which can return the instance of <code class="markup--code markup--li-code">classType</code>.</li></ul><p name="edaa" id="edaa" class="graf graf--p graf-after--li">Example:</p><pre name="48d4" id="48d4" class="graf graf--pre graf-after--p">//abstract parent class<br><strong class="markup--strong markup--pre-strong">abstract class AuthService</strong> {<br>    bool get isLoggedIn;<br>    void login();<br>    void logout();<br>    void register();<br>}</pre><p name="1d21" id="1d21" class="graf graf--p graf-after--pre">Our implementation of AuthService</p><pre name="58cc" id="58cc" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">class FirebaseAuthService extends AuthService</strong> {<br>    //implements all the required methods of AuthService<br>}</pre><p name="03d6" id="03d6" class="graf graf--p graf-after--pre">Now we want to initiate the FirebaseAuthService and expose its type as its parent type(AuthService),</p><pre name="39ed" id="39ed" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">AuthService </strong>authService = <strong class="markup--strong markup--pre-strong">FirebaseAuthService</strong>();</pre><p name="f183" id="f183" class="graf graf--p graf-after--pre">We can register the service with the same logic using,</p><pre name="2da4" id="2da4" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">LazySingleton(<strong class="markup--strong markup--pre-strong">classType</strong>: <strong class="markup--strong markup--pre-strong">FirebaseAuthService</strong>, <strong class="markup--strong markup--pre-strong">asType</strong>: <strong class="markup--strong markup--pre-strong">AuthService</strong>)</code></pre><h4 name="948d" id="948d" class="graf graf--h4 graf-after--pre">2. Factory()</h4><p name="932a" id="932a" class="graf graf--p graf-after--h4">Sometimes we don‚Äôt want singletons, we want a new instance every time we call <code class="markup--code markup--p-code">locator.get&lt;T&gt;()</code>. It can be achieved using Factory() registration.</p><pre name="8b58" id="8b58" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">Factory</strong>(classType: Dog,asType: Animal,);</pre><p name="5fef" id="5fef" class="graf graf--p graf-after--pre">is equivalent to</p><pre name="fe79" id="fe79" class="graf graf--pre graf-after--p">Animal animal = new Dog();</pre><p name="d378" id="d378" class="graf graf--p graf-after--pre">In get_it it is equivalent to,</p><pre name="7e71" id="7e71" class="graf graf--pre graf-after--p">locator.registerFactory&lt;Animal&gt;(() =&gt; Dog());</pre><p name="e044" id="e044" class="graf graf--p graf-after--pre">3. Presolve()</p><p name="cd11" id="cd11" class="graf graf--p graf-after--p">Suppose let‚Äôs say you want to do some <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Future </em></strong>computation before registering the object, you can use <em class="markup--em markup--p-em">Presolve()</em>.</p><pre name="89b6" id="89b6" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">Presolve(<br>      classType: SharedPreferencesService,<br>      <strong class="markup--strong markup--pre-strong"><em class="markup--em markup--pre-em">presolveUsing: SharedPreferencesService.getInstance</em></strong>,<br>    ),</code></pre><ul class="postList"><li name="dd04" id="dd04" class="graf graf--li graf-after--pre">presolveUsing: It also takes a static method like <code class="markup--code markup--li-code">resolveUsing </code>but it<code class="markup--code markup--li-code"> </code>must return a future of the specified type. <code class="markup--code markup--li-code">Future&lt;classType&gt;</code></li></ul><pre name="ddd2" id="ddd2" class="graf graf--pre graf-after--li"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">static</strong> Future&lt;SharedPreferencesService&gt; getInstance() <strong class="markup--strong markup--pre-strong">async</strong> {<br>  <strong class="markup--strong markup--pre-strong">//...</strong><br>}</code></pre><p name="7e94" id="7e94" class="graf graf--p graf-after--pre">As you can see <code class="markup--code markup--p-code">getInstance() </code>is a static method that returns a future of the specified type <code class="markup--code markup--p-code">SharedPreferencesService.</code></p><ul class="postList"><li name="f2e4" id="f2e4" class="graf graf--li graf-after--p">If we try to register without presolveUsing, it will register the type of <code class="markup--code markup--li-code">Future&lt;SharedPreferencesService&gt; </code>not <code class="markup--code markup--li-code">SharedPreferencesService.</code></li><li name="7b90" id="7b90" class="graf graf--li graf-after--li">presolveUsing ‚Äò<strong class="markup--strong markup--li-strong">await‚Äô</strong> until the future is completed and registers the instance.</li></ul><blockquote name="23ce" id="23ce" class="graf graf--blockquote graf-after--li">If you have any dependency registered that needs to be preSolved then you have to change your main function into a <strong class="markup--strong markup--blockquote-strong">Future and await the setupLocator</strong> call.</blockquote><pre name="cbbb" id="cbbb" class="graf graf--pre graf-after--blockquote graf--trailing"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">Future main() <strong class="markup--strong markup--pre-strong">async</strong> {<br>  <strong class="markup--strong markup--pre-strong">await</strong> setupLocator();<br>  runApp(MyApp());<br>}</code></pre></div></div></section><section name="ae80" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="294d" id="294d" class="graf graf--h4 graf--leading">3. Logging</h4><p name="eb05" id="eb05" class="graf graf--p graf-after--h4">How do you debug your program? Using print(), it‚Äôs time to change. Stacked Package provides <code class="markup--code markup--p-code">logger </code>out of the box.</p><p name="4e0a" id="4e0a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">1.Specify the logger in @StackedApp</strong></p><pre name="441d" id="441d" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">@StackedApp</strong>(<br>routes: [..],<br><strong class="markup--strong markup--pre-strong">logger: StackedLogger()<br></strong>)</code></pre><p name="2382" id="2382" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">2. Install Logger pacakge</strong></p><pre name="ec02" id="ec02" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">dependencies:<br>  ...<br>  logger:</code></pre><p name="d487" id="d487" class="graf graf--p graf-after--pre">You can call the getLogger(), which returns a Logger, it is more like a print() but formats the message neatly and give it a certain level of importance.</p><pre name="fd1f" id="fd1f" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">class</strong> <strong class="markup--strong markup--pre-strong">MyViewModel</strong> {<br><strong class="markup--strong markup--pre-strong">final</strong> logger = getLogger(&#39;MyViewModel&#39;);<br><strong class="markup--strong markup--pre-strong">void</strong> move() {<br>    //importance level from low to high<br>    logger.<strong class="markup--strong markup--pre-strong">v</strong>(&quot;Verbose log&quot;);  //verbose<br>    logger.<strong class="markup--strong markup--pre-strong">d</strong>(&quot;Debug log&quot;);    //debug<br>    logger.<strong class="markup--strong markup--pre-strong">i</strong>(&quot;Info log&quot;);     //info<br>    logger.<strong class="markup--strong markup--pre-strong">w</strong>(&quot;Warning log&quot;);  //warning<br>    logger.<strong class="markup--strong markup--pre-strong">e</strong>(&quot;Error log&quot;);    //error<br>    logger.<strong class="markup--strong markup--pre-strong">wtf</strong>(&quot;What a terrible failure log&quot;); //you know this<br>  }<br>}</code></pre><blockquote name="62cc" id="62cc" class="graf graf--blockquote graf--hasDropCapModel graf-after--pre">Make sure the <strong class="markup--strong markup--blockquote-strong">Class name</strong> you‚Äôre passing to getLogger(), is same as the class you are at. This will help the logger to automatically print the method name.(move() in this case)</blockquote><p name="029c" id="029c" class="graf graf--p graf-after--blockquote">This will print the below message to your console</p><figure name="cfa1" id="cfa1" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*I8dezhcVGQjT82YMOaRWlA.png" data-width="721" data-height="152" src="https://cdn-images-1.medium.com/max/800/1*I8dezhcVGQjT82YMOaRWlA.png"><figcaption class="imageCaption">emoji className | methodName‚Ää‚Äî‚Ääerror¬†msg</figcaption></figure><p name="b168" id="b168" class="graf graf--p graf-after--figure">You can also filter the logs with the log level, suppose if you want to print only the logs with log level from ‚Äò<em class="markup--em markup--p-em">warning‚Äô</em>. You can do,</p><pre name="29c5" id="29c5" class="graf graf--pre graf-after--p">void main() {<br>  runApp(MyApp());<br>  <strong class="markup--strong markup--pre-strong">Logger.<em class="markup--em markup--pre-em">level </em>= Level.warning;<br> </strong>//prints only [&#39;warning&#39;,&#39;error&#39;,&#39;wtf&#39;] logs<br>}</pre><figure name="06df" id="06df" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*rnqX8C5a9x_aTYmsJfyaGA.png" data-width="725" data-height="82" src="https://cdn-images-1.medium.com/max/800/1*rnqX8C5a9x_aTYmsJfyaGA.png"></figure><p name="5e0d" id="5e0d" class="graf graf--p graf-after--figure">If you want to get the Logger with some other method instead of <code class="markup--code markup--p-code">getLogger()</code>, you can override it in the <code class="markup--code markup--p-code">StackedLogger</code>.</p><pre name="6d96" id="6d96" class="graf graf--pre graf-after--p">@StackedApp(<br>  routes:[..],<br>  logger: StackedLogger(<br>    <strong class="markup--strong markup--pre-strong">logHelperName: &#39;getMyLogger&#39; </strong>//default: &#39;getLogger&#39;<br>  )<br>)</pre><p name="b4db" id="b4db" class="graf graf--p graf-after--pre">You can call the logger with,</p><pre name="9ec5" id="9ec5" class="graf graf--pre graf-after--p">getMyLogger(‚ÄòclassName);</pre><p name="b79d" id="b79d" class="graf graf--p graf-after--pre graf--trailing">With the <code class="markup--code markup--p-code">Stacked </code>package you can <strong class="markup--strong markup--p-strong">automate form generation</strong> also, to know more about that, head over to the <a href="https://pub.dev/packages/stacked" data-href="https://pub.dev/packages/stacked" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">official docs</a>, which is in my opinion, is very well written. Thank you for reading. Clapüëè if you‚Äôve liked the article.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@imsaravananm" class="p-author h-card">Saravanan M</a> on <a href="https://medium.com/p/b8bdc1e6c839"><time class="dt-published" datetime="2021-07-19T01:30:20.078Z">July 19, 2021</time></a>.</p><p><a href="https://medium.com/@imsaravananm/stacked-package-service-location-routing-logging-b8bdc1e6c839" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 7, 2023.</p></footer></article></body></html>