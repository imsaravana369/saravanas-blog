<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>What is a Monad?</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">What is a Monad?</h1>
</header>
<section data-field="subtitle" class="p-summary">
What exactly is a monad?
</section>
<section data-field="body" class="e-content">
<section name="6db3" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="f545" id="f545" class="graf graf--h3 graf--leading graf--title">What do they mean by¬†Monad?</h3><p name="b053" id="b053" class="graf graf--p graf-after--h3">Today I‚Äôm going to answer a question that I asked myself and everyone when I entered functional programming. I didn‚Äôt get any answer that really explained what a monad is? why we need it?¬†,in simpler terms, that I could grasp as a beginner.</p><p name="5974" id="5974" class="graf graf--p graf-after--p">As time passed and having worked and read a lot about what monad is¬†, from different forums and articles, I figured out how someone could‚Äôve explained it to me when I was beginner, such that my then-newbie-self(still a newbie) would‚Äôve understood and could‚Äôve made sense of the articles that I read about monads.</p><blockquote name="0159" id="0159" class="graf graf--blockquote graf-after--p graf--trailing">Note: This article doesn‚Äôt dive deeper into how monads are implemented, this article is more about the <code class="markup--code markup--blockquote-code">why &amp; what</code> than the How?</blockquote></div></div></section><section name="e597" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="3dd4" id="3dd4" class="graf graf--p graf--leading">To understand monad, you want to understand two things,</p><ol class="postList"><li name="787a" id="787a" class="graf graf--li graf-after--p">Why Sequential Computation matters in FP</li><li name="2af4" id="2af4" class="graf graf--li graf-after--li">What is Context, in context of Monadsüòú</li></ol><figure name="bb6f" id="bb6f" class="graf graf--figure graf-after--li graf--trailing"><img class="graf-image" data-image-id="1*WnJ43ye4_zkxaQYz9sjvaQ.jpeg" data-width="1920" data-height="1080" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*WnJ43ye4_zkxaQYz9sjvaQ.jpeg"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@bradyn?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/@bradyn?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Bradyn Trollip</a> on¬†<a href="https://unsplash.com/s/photos/domino?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/s/photos/domino?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Unsplash</a></figcaption></figure></div></div></section><section name="304a" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="5882" id="5882" class="graf graf--h4 graf--leading">Understanding Sequential Computation</h4><p name="8df5" id="8df5" class="graf graf--p graf-after--h4">It is a type of computation where the instructions are executed in sequence and instruction in one line may consume the results from the previous lines.</p><pre name="84ce" id="84ce" class="graf graf--pre graf-after--p graf--trailing">//sequential code, where B wants the value of A, C want both A and B<br>let A = 5;<br>let B = A + 5; <br>let C = (A + 42) + (B + 3);</pre></div></div></section><section name="e6ed" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="91c3" id="91c3" class="graf graf--h4 graf--leading">Why Sequential Computation matters in Functional Programming</h4><p name="d3f5" id="d3f5" class="graf graf--p graf-after--h4">So, let‚Äôs start with a question. How can you do sequential computation in functional languages¬†?</p><p name="bc7d" id="bc7d" class="graf graf--p graf-after--p">You may say function composition, yes, a valid answer but not the exact one.</p><p name="b52a" id="b52a" class="graf graf--p graf-after--p">Consider we have these three functions,</p><pre name="f101" id="f101" class="graf graf--pre graf-after--p">firstFunction :: INITIAL_VALUE -&gt; RESULT1</pre><pre name="2d87" id="2d87" class="graf graf--pre graf-after--pre">secondFunction :: RESULT1 -&gt; RESULT2</pre><pre name="8ac1" id="8ac1" class="graf graf--pre graf-after--pre">thirdFunction :: RESULT2 -&gt; RESULT3</pre><blockquote name="7f5e" id="7f5e" class="graf graf--blockquote graf-after--pre"><strong class="markup--strong markup--blockquote-strong">Note</strong>¬†: For folks who are unfamiliar with the above syntax, <code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">firstFunction</em></code> takes <code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">INITIAL_VALUE</em></code> as input &amp; returns <code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">RESULT1</em></code> as output and so on.</blockquote><p name="011f" id="011f" class="graf graf--p graf-after--blockquote">Now we can compose the three functions as¬†,</p><pre name="33f6" id="33f6" class="graf graf--pre graf-after--p">myComposedFunction :: INITIAL_VALUE -&gt; RESULT3<br>myComposedFunction = thirdFunction . secondFunction . firstFunction</pre><blockquote name="07c7" id="07c7" class="graf graf--blockquote graf-after--pre">Note: This is a <a href="https://medium.com/p/76e856220893/edit" data-href="https://medium.com/p/76e856220893/edit" class="markup--anchor markup--blockquote-anchor" target="_blank">Haskell syntax</a>, using dot operator, just like in high school maths.</blockquote><p name="a8a2" id="a8a2" class="graf graf--p graf-after--blockquote"><strong class="markup--strong markup--p-strong">Question: If thirdFunction also wants the RESULT1, how can we do that with functional composition?</strong></p><p name="dc62" id="dc62" class="graf graf--p graf-after--p">No, it can only access the result of 2nd function‚Äôs output. I.e, We can‚Äôt store the intermediary values with function composition.</p><p name="fd35" id="fd35" class="graf graf--p graf-after--p">It‚Äôs like a sequence of interconnected pipes, the outflow of one pipe directly goes to the next subsequent pipe, we can‚Äôt store the outflow of one pipe somewhere and let the other pipes access it whenever they needed it.</p><p name="55d8" id="55d8" class="graf graf--p graf-after--p">But we can do some hacks,</p><pre name="4ca0" id="4ca0" class="graf graf--pre graf-after--p">firstFunction :: INITIAL_VALUE -&gt; RESULT1</pre><pre name="0ff6" id="0ff6" class="graf graf--pre graf-after--pre">secondFunction :: RESULT1 -&gt; (<strong class="markup--strong markup--pre-strong">RESULT1</strong>,RESULT2)</pre><pre name="61eb" id="61eb" class="graf graf--pre graf-after--pre">thirdFunction :: (<strong class="markup--strong markup--pre-strong">RESULT1</strong>,RESULT2) -&gt; RESULT3</pre><p name="b7fa" id="b7fa" class="graf graf--p graf-after--pre">Hola!! By modifying the output of <code class="markup--code markup--p-code">secondFunction</code> and input of <code class="markup--code markup--p-code">thirdFunction</code>¬†, we have managed to achieve our goal of making the <code class="markup--code markup--p-code">firstFunction</code> result available to <code class="markup--code markup--p-code">thirdFunction</code></p><p name="cbfd" id="cbfd" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Headache</strong>: Now consider you have 100 functions, and your last function(100th function) wants to use the first function result‚Ä¶ Just for that you have to pass that down 99 levels. It‚Äôs huge amount of boiler plate code we have to write.</p><p name="cfd5" id="cfd5" class="graf graf--p graf-after--p">So, we cant really do sequential computation with Functional composition alone.</p><p name="9f91" id="9f91" class="graf graf--p graf-after--p">That is where <code class="markup--code markup--p-code">let</code> bindings come into play, we can use them to store intermediary values.</p><pre name="3316" id="3316" class="graf graf--pre graf-after--p">myComposedFunction initialValue = do <br>   let result1 = firstFunction initialValue<br>   let result2 = secondFunction result1<br>   let result3 = thirdFunction result1 result2<br>   result3</pre><p name="4821" id="4821" class="graf graf--p graf-after--pre">Using Sequential computation we can code a program where instruction in one line may consume the results from the previous lines.</p><p name="a096" id="a096" class="graf graf--p graf-after--p">With plain functional composition we can‚Äôt do sequential computation, we need a mechanism to store the intermediary values and <code class="markup--code markup--p-code">let</code> binding let us do that.</p><p name="dd6e" id="dd6e" class="graf graf--p graf-after--p">To solve real world problems, we want sequential computation as most of the things happening around us come under cause and effect.</p><p name="acb4" id="acb4" class="graf graf--p graf-after--p graf--trailing">Hope you‚Äôve understood what is Sequential Computation and why it matters in functional programming.</p></div></div></section><section name="98af" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="efb4" id="efb4" class="graf graf--h4 graf--leading"><strong class="markup--strong markup--h4-strong">Understanding Context</strong></h4><p name="dd01" id="dd01" class="graf graf--p graf-after--h4">Let‚Äôs consider two monads, Array and Maybe (yes they are monads).</p><blockquote name="1277" id="1277" class="graf graf--pullquote graf-after--p"><strong class="markup--strong markup--pullquote-strong">Array String</strong>‚Ää‚Äî‚Ääzero or more values of¬†String</blockquote><blockquote name="d81b" id="d81b" class="graf graf--pullquote graf-after--pullquote">Maybe String‚Ää‚Äî‚Ääzero or one value of¬†String</blockquote><p name="2d24" id="2d24" class="graf graf--p graf-after--pullquote">Here the underlying value is <code class="markup--code markup--p-code">String</code> for both the cases, but the context they are wrapped in (Array &amp; Maybe respectively) are different.</p><p name="86b1" id="86b1" class="graf graf--p graf-after--p">If a String is wrapped in IO, <code class="markup--code markup--p-code">IO String</code>¬†, then we could say that String is made available after doing some side effect operation, like fetching from DB, reading from file, input from user etc.</p><p name="c742" id="c742" class="graf graf--p graf-after--p">Context <code class="markup--code markup--p-code">m </code>represent a structure in which a value <code class="markup--code markup--p-code">a</code> is wrapped in at any particular time.</p><p name="c134" id="c134" class="graf graf--p graf-after--p graf--trailing">I hope you have understood what context is, in context of functional programming.</p></div></div></section><section name="3b7b" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="227b" id="227b" class="graf graf--h4 graf--leading">Putting it¬†together</h4><p name="73ab" id="73ab" class="graf graf--p graf-after--h4">Monads, let us do sequential computation with values that are wrapped in a context <code class="markup--code markup--p-code">m</code>. Okay, article over¬†!!</p><p name="8d62" id="8d62" class="graf graf--p graf-after--p">Consider the same functions, but their return type is now wrapped in some context <code class="markup--code markup--p-code">m</code></p><pre name="283b" id="283b" class="graf graf--pre graf-after--p">firstFunction :: (Monad m) =&gt; INITIAL_VALUE -&gt; <strong class="markup--strong markup--pre-strong">m</strong> RESULT1</pre><pre name="39ac" id="39ac" class="graf graf--pre graf-after--pre">secondFunction :: (Monad m) =&gt; RESULT1 -&gt; <strong class="markup--strong markup--pre-strong">m</strong> RESULT2</pre><pre name="27dc" id="27dc" class="graf graf--pre graf-after--pre">thirdFunction :: (Monad m) =&gt; RESULT2 -&gt; <strong class="markup--strong markup--pre-strong">m</strong> RESULT3</pre><blockquote name="1c0c" id="1c0c" class="graf graf--blockquote graf-after--pre">Note: <code class="markup--code markup--blockquote-code">(Monad m)</code> means <code class="markup--code markup--blockquote-code">m</code> is of type class <code class="markup--code markup--blockquote-code">Monad</code></blockquote><p name="7773" id="7773" class="graf graf--p graf-after--blockquote">If you take a close look, we can‚Äôt pass output value of one function directly to the next function as the output values are now wrapped in a monadic context.</p><p name="d6d5" id="d6d5" class="graf graf--p graf-after--p">To do that, we use something called Monadic Bind</p><p name="dac0" id="dac0" class="graf graf--p graf-after--p">The signature of monadic bind is,</p><pre name="5a3f" id="5a3f" class="graf graf--pre graf-after--p">(&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b</pre><blockquote name="7ce3" id="7ce3" class="graf graf--pullquote graf-after--pre">m a‚Ää‚Äî‚ÄäA value `a` wrapped in a monadic context¬†`m`.</blockquote><blockquote name="5e37" id="5e37" class="graf graf--pullquote graf-after--pullquote">(a -&gt; m b)‚Ää‚Äî‚ÄäA function that can take a value `a` and can yield a value `b` wrapped in the same monadic context¬†`m`</blockquote><blockquote name="f034" id="f034" class="graf graf--pullquote graf-after--pullquote">The word `same` is very important here</blockquote><pre name="a66c" id="a66c" class="graf graf--pre graf-after--pullquote">myMonadComposedFunction :: (Monad m) =&gt; Int -&gt; m String<br>myMonadComposedFunction  i = <br>     (firstFunction i &gt;&gt;= secondFunction &gt;&gt;= thirdFunction)</pre><p name="4353" id="4353" class="graf graf--p graf-after--pre graf--trailing">Imagine monadic bindings like a sequence of pipes, where each pipe can take a value <code class="markup--code markup--p-code">a</code> and can yield another value <code class="markup--code markup--p-code">b </code>wrapped in monadic context <code class="markup--code markup--p-code">m</code>¬†, and between every pipe there‚Äôs a filter that convert <code class="markup--code markup--p-code">m a</code> to <code class="markup--code markup--p-code">a</code>¬†, can you answer why we need those filters?</p></div></div></section><section name="44e6" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="a83d" id="a83d" class="graf graf--p graf--leading">Okay moving on to our old use case where our <code class="markup--code markup--p-code">thirdFunction</code> also wanted the result of <code class="markup--code markup--p-code">firstFunction</code> as an argument.</p><p name="466e" id="466e" class="graf graf--p graf-after--p">Can we do that with <code class="markup--code markup--p-code">let</code> bindings? No‚Ä¶ Because if we <code class="markup--code markup--p-code">let</code> doesn‚Äôt know how to unwrap the value <code class="markup--code markup--p-code">a</code>within the monadic context, so it will store the whole thing <code class="markup--code markup--p-code">m a</code>¬†, but that‚Äôs not we want right?</p><p name="47b6" id="47b6" class="graf graf--p graf-after--p">We could store create intermediary values in variables with the help of <code class="markup--code markup--p-code">do</code> notation, which is a syntactic sugar üçô of monadic bind.</p><pre name="6e74" id="6e74" class="graf graf--pre graf-after--p">myFunction :: Int -&gt; IO String<br>myFunction  i =  do <br>     result1 &lt;- firstFunction i<br>     result2 &lt;- secondFunction result1<br>     result3 &lt;- thirdFunction result1 result2<br>     result3</pre><p name="7589" id="7589" class="graf graf--p graf-after--pre">You can see the above code is very similar to how we write sequential code in imperative languages like C or Java.</p><p name="9f4a" id="9f4a" class="graf graf--p graf-after--p">Even though our functions return values wrapped in context <code class="markup--code markup--p-code">m</code>¬†, using the symbol <code class="markup--code markup--p-code">&lt;-</code>¬†, we are able to unwrap the value <code class="markup--code markup--p-code">a</code> from <code class="markup--code markup--p-code">m a</code> and store them in the corresponding variable in their purest form(without the context).</p><p name="7cd4" id="7cd4" class="graf graf--p graf-after--p">The great thing about monad is that you can‚Äôt escape the context that you are working on, let‚Äôs say you are working on a context <code class="markup--code markup--p-code">m</code>¬†, say Maybe, you can‚Äôt bind it with another context <code class="markup--code markup--p-code">m‚Äô</code>¬†, say IO.</p><p name="48de" id="48de" class="graf graf--p graf-after--p">If you try to squeeze in a function like the one below, it will fail</p><pre name="aabf" id="aabf" class="graf graf--pre graf-after--p">fourthFunction :: RESULT3 -&gt; m&#39; RESULT4 </pre><p name="0306" id="0306" class="graf graf--p graf-after--pre graf--trailing">we can‚Äôt compose <code class="markup--code markup--p-code">fourthFunction</code> with any of the above 3 functions, as they run on different monad <code class="markup--code markup--p-code">m</code></p></div></div></section><section name="da1c" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="1462" id="1462" class="graf graf--p graf--leading">I‚Äôm iterating it once again, Monads, let us do sequential computation with values that are wrapped in a context <code class="markup--code markup--p-code">m</code>.</p><p name="30e9" id="30e9" class="graf graf--p graf-after--p">Once you understood, why sequential computation matters and what a context means, then you could make sense of most the articles written about monads.</p><p name="4645" id="4645" class="graf graf--p graf-after--p graf--trailing">You may not have understood completely what a monad is, but as you read different articles and work more with them, one day the aha moment will arrive and everything will start making sense.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@imsaravananm" class="p-author h-card">Saravanan M</a> on <a href="https://medium.com/p/76e856220893"><time class="dt-published" datetime="2022-11-06T13:34:31.447Z">November 6, 2022</time></a>.</p><p><a href="https://medium.com/@imsaravananm/what-is-a-monad-76e856220893" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 7, 2023.</p></footer></article></body></html>