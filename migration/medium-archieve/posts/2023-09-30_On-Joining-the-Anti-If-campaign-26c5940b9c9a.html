<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>On Joining the Anti-If campaign</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">On Joining the Anti-If campaign</h1>
</header>
<section data-field="subtitle" class="p-summary">
There‚Äôs a war going on against if-else for over 15 years?
</section>
<section data-field="body" class="e-content">
<section name="9b68" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="42cd" id="42cd" class="graf graf--h3 graf--leading graf--title">On Joining the Anti-If¬†campaign</h3><p name="daa9" id="daa9" class="graf graf--p graf-after--h3">I always have had a nagging feeling while writing if-else condition, it wasn‚Äôt until I came across the term ‚Äò<a href="https://francescocirillo.com/products/the-anti-if-campaign" data-href="https://francescocirillo.com/products/the-anti-if-campaign" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">anti-if campaign</a>‚Äô that I understood why.</p><p name="f353" id="f353" class="graf graf--p graf-after--p">Now, as a member of the anti-if campaign, allow me to persuade you why it‚Äôs worth joining as well. (disclaimer at the endüòÇ)</p><blockquote name="a90f" id="a90f" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">Note:</strong> When I mean `if-else` that also includes other branching statements like switch, else-if etc.</blockquote><figure name="46e9" id="46e9" class="graf graf--figure graf-after--blockquote"><img class="graf-image" data-image-id="1*Sv-nsd9e-dt_KUbo4lxLHQ.jpeg" data-width="624" data-height="474" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*Sv-nsd9e-dt_KUbo4lxLHQ.jpeg"><figcaption class="imageCaption">yeah, time to throw them¬†away.</figcaption></figure><h4 name="b636" id="b636" class="graf graf--h4 graf-after--figure">1. The more the if-else, the more imperative your code¬†gets</h4><p name="37d6" id="37d6" class="graf graf--p graf-after--h4">Instead of simply stating the desired outcome, <a href="https://en.wikipedia.org/wiki/Imperative_programming" data-href="https://en.wikipedia.org/wiki/Imperative_programming" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">imperative code</a> micromanages everything by providing explicit, step-by-step instructions.</p><p name="60cd" id="60cd" class="graf graf--p graf-after--p">Think of if-else statements for a moment, its a form of spoon-feeding; it‚Äôs actually dictating to the computer, ‚ÄúExecute this block if this condition is met, otherwise check this condition and execute this other block, if that also fails checks this condition and so on..‚Äù</p><p name="a465" id="a465" class="graf graf--p graf-after--p">Excessive nesting of conditions not only hampers code maintainability but also serves as an indicator that you are trying to spoon-feed the logic.</p><p name="91d8" id="91d8" class="graf graf--p graf-after--p">Consider this example,</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="python" name="3332" id="3332" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sign_mult</span>(<span class="hljs-params">a,b</span>):<br />    <span class="hljs-keyword">if</span> (a == <span class="hljs-string">&#x27;+&#x27;</span> <span class="hljs-keyword">and</span> b == <span class="hljs-string">&#x27;+&#x27;</span>):<br />        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;+&#x27;</span><br />    <span class="hljs-keyword">elif</span> (a == <span class="hljs-string">&#x27;-&#x27;</span> <span class="hljs-keyword">and</span> b == <span class="hljs-string">&#x27;-&#x27;</span>):<br />        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;+&#x27;</span><br />    <span class="hljs-keyword">elif</span> (a == <span class="hljs-string">&#x27;+&#x27;</span> <span class="hljs-keyword">and</span> b == <span class="hljs-string">&#x27;-&#x27;</span>):<br />        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;-&#x27;</span><br />    <span class="hljs-keyword">elif</span> (a == <span class="hljs-string">&#x27;-&#x27;</span> <span class="hljs-keyword">and</span> b == <span class="hljs-string">&#x27;+&#x27;</span>):<br />        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;-&#x27;</span></span></pre><p name="98f5" id="98f5" class="graf graf--p graf-after--pre">This could be easily rewritten as,</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="5af2" id="5af2" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sign_mult</span>(<span class="hljs-params">a,b</span>): <br />   <span class="hljs-keyword">return</span> ‚Äò+‚Äô <span class="hljs-keyword">if</span> a == b <span class="hljs-keyword">else</span> ‚Äò-‚Äô</span></pre><p name="47bb" id="47bb" class="graf graf--p graf-after--pre">Still we are using if-else(<a href="https://onlinegdb.com/j6YeMyQXP" data-href="https://onlinegdb.com/j6YeMyQXP" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">without if-else version</a>) but this version is more concise, it looks more like an equation that resolves itself whereas the first nested version prompts us to mentally execute the checks step-by-step, making us into a miniature computer.</p><blockquote name="58b6" id="58b6" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">Takeaway</strong>: When you‚Äôre overdoing nesting, you‚Äôre needlessly<strong class="markup--strong markup--blockquote-strong"> complicating the actual logic</strong>. Recall the LeetCode question where you wrote ten if-else checks, whereas the YouTuber‚Äôs solution had only one check?</blockquote><h4 name="ef13" id="ef13" class="graf graf--h4 graf-after--blockquote">2. If-else indicates a potential design¬†flaw</h4><p name="2267" id="2267" class="graf graf--p graf-after--h4">Conditional statements like if-else, switch statements etc are referred to as branching statements because its where things starts branching out.</p><p name="e4a5" id="e4a5" class="graf graf--p graf-after--p">It‚Äôs okay when the branching is contained within the same tree(domain), it becomes problematic when it starts spreading to other trees too.</p><p name="49eb" id="49eb" class="graf graf--p graf-after--p">For this very reason, it‚Äôs quite easy to misuse them. For example, while coding a e-commerce website, I could have a single switch statement that manages everything from searching for an item to delivering it to the customer.</p><p name="6d78" id="6d78" class="graf graf--p graf-after--p">That‚Äôs precisely why, when employed without careful thought, you might inadvertently intertwine different domains and that‚Äôs a design problem right there, your code will work but will not scale.</p><p name="fece" id="fece" class="graf graf--p graf-after--p">Consider this Java example,</p><figure name="220e" id="220e" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/imsaravana369/6ad935e9fb69d3d39b8b9d70e60155bc.js"></script><figcaption class="imageCaption">Here one paymentMethod can be completely different from the other. But with this switch statement, we are coupling them into one.</figcaption></figure><p name="9e50" id="9e50" class="graf graf--p graf-after--figure">The above code is actually trying to centralize the logic of calculating discount for various payment instruments in a single place.</p><p name="0e1f" id="0e1f" class="graf graf--p graf-after--p">But whats wrong in it? Just looking like a normal if-else isn‚Äôt it?</p><p name="f157" id="f157" class="graf graf--p graf-after--p">If you look closely it‚Äôs actually violating <a href="https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle" data-href="https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Open‚Äìclosed principle</a>(assume the above method is inside a class) Let‚Äôs say a new paymentMethod comes, you have to ‚Äúmodify‚Äù the above function to accommodate the new case.</p><p name="df7b" id="df7b" class="graf graf--p graf-after--p">But if we refactor the code like</p><figure name="38e1" id="38e1" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/imsaravana369/e79362f8fe0ef7606c04b7a6f8e37d54.js"></script></figure><p name="84be" id="84be" class="graf graf--p graf-after--figure">then you can simply do,</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="java" name="b8f5" id="b8f5" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getDiscount</span><span class="hljs-params">(DiscountProvider discountProvider, <span class="hljs-type">int</span> amt)</span>{<br />        <span class="hljs-type">double</span> <span class="hljs-variable">discount</span>  <span class="hljs-operator">=</span> discountProvider.getDiscount();<br />        <span class="hljs-keyword">return</span> amt * (discount / <span class="hljs-number">100</span>);<br />    }</span></pre><p name="163e" id="163e" class="graf graf--p graf-after--pre">Now you can see, there‚Äôs no ambiguity here. When a new case comes in you don‚Äôt have to change the above function but rather ‚Äúextend‚Äù it by creating a new class that just implements the <code class="markup--code markup--p-code">DiscountProvider</code> interface.</p><blockquote name="e85f" id="e85f" class="graf graf--blockquote graf-after--p"><strong class="markup--strong markup--blockquote-strong">Takeaway</strong>: Whenever you encounter an if-else or case statement, it‚Äôs worth considering the possibility of abstracting them into an interface or encode the branching information within the type itself.</blockquote><h4 name="b875" id="b875" class="graf graf--h4 graf-after--blockquote">3. You will end up coupling the¬†order</h4><p name="0e09" id="0e09" class="graf graf--p graf-after--h4">When dealing with if-else blocks, it‚Äôs common knowledge that the program enters an ‚Äòelse‚Äô block only when the preceding ‚Äòif‚Äô condition fails. While this assumption seems reasonable, relying on it to shape our predicates can lead to unintended consequences. Consider this below example:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="python" name="6771" id="6771" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_welcome_message</span>(<span class="hljs-params">age</span>):<br />    <span class="hljs-keyword">if</span> age &lt; <span class="hljs-number">18</span>:<br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Too young&quot;</span>)<br />    <span class="hljs-keyword">elif</span> age &lt; <span class="hljs-number">65</span>:<br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Come in&quot;</span>)<br />    <span class="hljs-keyword">else</span>:<br />        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Too old&quot;</span>)</span></pre><p name="d3b7" id="d3b7" class="graf graf--p graf-after--pre">This code functions as expected, but what if someone modifies the initial ‚Äòif‚Äô condition to <code class="markup--code markup--p-code">age == 18</code>? Subsequent checks, such as <code class="markup--code markup--p-code">age &lt; 65</code>, which was implicitly assuming <code class="markup--code markup--p-code">age &gt;= 18 and age &lt; 65</code> will start giving incorrect outputs.</p><p name="5cc0" id="5cc0" class="graf graf--p graf-after--p">One approach to tackle this problem is to explicitly define the entire condition as <code class="markup--code markup--p-code">age &gt;= 18 and age &lt; 65</code>, rather than just <code class="markup--code markup--p-code">age &lt; 65</code>.</p><p name="2bdc" id="2bdc" class="graf graf--p graf-after--p">(Question: Wouldn‚Äôt this break down the nested if-else structure into a series of individual if-then statements? which isn‚Äôt good either..)</p><p name="a76e" id="a76e" class="graf graf--p graf-after--p">However, PR reviewers often prioritize adhering to the DRY principle over writing correct code, so it can be quite challenging to get your PR merged.</p><blockquote name="4f1a" id="4f1a" class="graf graf--pullquote graf--startsWithDoubleQuote graf-after--p"><strong class="markup--strong markup--pullquote-strong">‚ÄúSmall anecdote</strong>: I once had to add a new case to a CardNumber validator function, that already had around 20+ if else checks. Confused by where exactly to insert my case, I ended up breaking the other validation checksüò≠‚Äù</blockquote><p name="fbaa" id="fbaa" class="graf graf--p graf-after--pullquote">Indeed, there are scenarios where the sequence of if-else statements plays a critical role. For instance, you might want to validate the username before checking the password, even when both are invalid, you just want to throw an ‚ÄòInvalid username‚Äô error message.</p><p name="64a0" id="64a0" class="graf graf--p graf-after--p">However, in the story I shared above, all the if-else checks were supposed to be standalone but as the number of if-else statements grew, they inadvertently began to overlap with one another. This unintended overlap introduced a pseudo-sequence within the validation function. For instance, it began to prioritize the verification of card blacklisting by the card network over blacklisting by the cardholder‚Äôs bank, even though there was no explicit business need for such prioritization.</p><blockquote name="13bd" id="13bd" class="graf graf--blockquote graf-after--p graf--trailing"><strong class="markup--strong markup--blockquote-strong">Takeaway</strong>: The ordering guarantees given by branching statements are quite useful but they can inadvertently introduce a pseudo-ordering that lacks genuine business significance.</blockquote></div></div></section><section name="23d1" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="3b0e" id="3b0e" class="graf graf--p graf--leading">Now we have come to the most important part of the article.</p><h3 name="03b5" id="03b5" class="graf graf--h3 graf-after--p">Disclaimer‚ö†Ô∏è</h3><p name="f88b" id="f88b" class="graf graf--p graf-after--h3">While I have joined the anti-if campaign, it doesn‚Äôt imply that I will never include branching statements in my code. I believe it‚Äôs virtually impossible to write code without branching statements. To draw a comparison, it‚Äôs somewhat akin to an anti-drug campaign that doesn‚Äôt seek to discourage the use of drugs for legitimate medical purposes. The primary aim of the anti-if campaign is to eliminate its usage where it is inappropriate, recognizing that, like drugs, branching statements can also have their valid place in your codebase.</p><figure name="ef28" id="ef28" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*RXqdTref7ZeoorwQfOm3Kw.png" data-width="303" data-height="447" src="https://cdn-images-1.medium.com/max/800/1*RXqdTref7ZeoorwQfOm3Kw.png"></figure></div></div></section><section name="a364" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="2188" id="2188" class="graf graf--p graf--leading graf--trailing">Thank you for taking the time to read the article. I‚Äôd appreciate it if you would kindly consider sharing your own engaging stories related to if-else statements in the comment section. Your experiencesüßôüèª and insights can contribute to a valuable discussion.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@imsaravananm" class="p-author h-card">Saravanan M</a> on <a href="https://medium.com/p/26c5940b9c9a"><time class="dt-published" datetime="2023-09-30T08:10:37.225Z">September 30, 2023</time></a>.</p><p><a href="https://medium.com/@imsaravananm/on-joining-the-anti-if-campaign-26c5940b9c9a" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 7, 2023.</p></footer></article></body></html>